(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-079d4169"],{"33a9":function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[l("el-form-item",{attrs:{label:"用户名"}},[l("el-input",{attrs:{placeholder:"用户名"},model:{value:e.searchForm.username,callback:function(t){e.$set(e.searchForm,"username",t)},expression:"searchForm.username"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1)],1),l("el-card",[l("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("新增")]),l("el-button",{attrs:{type:"danger"},on:{click:e.onDelete}},[e._v("批量删除")]),l("div",{staticClass:"space"}),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),l("el-table-column",{attrs:{prop:"id",label:"ID"}}),l("el-table-column",{attrs:{prop:"username",label:"用户名称"}}),l("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),l("el-table-column",{attrs:{label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,(function(t){return l("el-tag",{key:t.id,attrs:{effect:"dark"}},[e._v(" "+e._s(t.rolename)+" ")])}))}}])}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{attrs:{model:e.actForm}},[l("el-form-item",{attrs:{label:"用户名"}},[l("el-input",{attrs:{placeholder:"用户名"},model:{value:e.actForm.username,callback:function(t){e.$set(e.actForm,"username",t)},expression:"actForm.username"}})],1),l("el-form-item",{attrs:{label:"昵称"}},[l("el-input",{attrs:{placeholder:"昵称"},model:{value:e.actForm.nickname,callback:function(t){e.$set(e.actForm,"nickname",t)},expression:"actForm.nickname"}})],1),l("el-form-item",{attrs:{label:"角色"}},[l("el-checkbox-group",{model:{value:e.rolesForm,callback:function(t){e.rolesForm=t},expression:"rolesForm"}},e._l(e.roleList,(function(e,t){return l("el-checkbox",{key:t,attrs:{label:e.rolename,name:"type",border:""}})})),1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),l("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)],1)},a=[],o=(l("159b"),l("a434"),{data:function(){return{searchForm:{},tableData:[{id:1,username:"超级管理员",nickname:"超级管理员",roles:[{id:1,rolename:"超级管理员"}]},{id:2,username:"管理员1",nickname:"管理员1",roles:[{id:2,rolename:"管理员"}]},{id:3,username:"管理员2",nickname:"管理员1",roles:[{id:2,rolename:"运营"},{id:3,rolename:"编辑"},{id:5,rolename:"普通员工"}]},{id:4,username:"管理员3",nickname:"管理员1",roles:[{id:4,rolename:"运营"}]},{id:5,username:"管理员4",nickname:"管理员1",roles:[{id:5,rolename:"普通员工"}]}],roleList:[{id:1,rolename:"超级管理员"},{id:2,rolename:"管理员"},{id:3,rolename:"编辑"},{id:4,rolename:"运营"},{id:5,rolename:"普通员工"}],multipleSelection:[],dialogVisible:!1,dialogTitle:"新增",actForm:{},rolesForm:[],activeIndex:0}},methods:{onSearch:function(){},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],0!=e.length&&e.forEach((function(e){t.multipleSelection.push(e.id)}))},onAdd:function(){this.dialogVisible=!0,this.dialogTitle="新增",this.actForm=[]},onDelete:function(){var e=this,t=this.multipleSelection,l=this.tableData;0!=t.length&&this.$confirm("批量删除数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=[];l.forEach((function(e){-1==t.indexOf(e.id)&&n.push(e)})),e.tableData=n,e.multipleSelection=[],e.$message({type:"success",message:"删除成功!"})})).catch((function(){}))},handleEdit:function(e,t){var l=this;this.dialogVisible=!0,this.dialogTitle="编辑",this.actForm=t,this.activeIndex=e,t.roles.forEach((function(e){l.rolesForm.push(e.rolename)}))},handleDelete:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableData.splice(e,1),t.$message({type:"success",message:"删除成功!"})})).catch((function(){}))},onSubmit:function(){var e=this;this.actForm.roles=[],this.roleList.forEach((function(t){-1!=e.rolesForm.indexOf(t.rolename)&&e.actForm.roles.push(t)})),"新增"==this.dialogTitle?setTimeout((function(){e.actForm.id=e.tableData.length+1,e.tableData.push(e.actForm),e.dialogVisible=!1,e.$message.success("新增成功")}),1500):setTimeout((function(){e.tableData[e.activeIndex]=e.actForm,e.dialogVisible=!1,e.$message.success("编辑成功")}),1500)},onCancel:function(){this.dialogVisible=!1}}}),i=o,r=(l("d6b8"),l("2877")),s=Object(r["a"])(i,n,a,!1,null,"29b3805c",null);t["default"]=s.exports},a434:function(e,t,l){"use strict";var n=l("23e7"),a=l("23cb"),o=l("a691"),i=l("50c4"),r=l("7b0b"),s=l("65f0"),c=l("8418"),m=l("1dde"),u=m("splice"),d=Math.max,h=Math.min,f=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var l,n,m,u,p,g,k=r(this),v=i(k.length),F=a(e,v),x=arguments.length;if(0===x?l=n=0:1===x?(l=0,n=v-F):(l=x-2,n=h(d(o(t),0),v-F)),v+l-n>f)throw TypeError(b);for(m=s(k,n),u=0;u<n;u++)p=F+u,p in k&&c(m,u,k[p]);if(m.length=n,l<n){for(u=F;u<v-n;u++)p=u+n,g=u+l,p in k?k[g]=k[p]:delete k[g];for(u=v;u>v-n+l;u--)delete k[u-1]}else if(l>n)for(u=v-n;u>F;u--)p=u+n-1,g=u+l-1,p in k?k[g]=k[p]:delete k[g];for(u=0;u<l;u++)k[u+F]=arguments[u+2];return k.length=v-n+l,m}})},abc3:function(e,t,l){},d6b8:function(e,t,l){"use strict";l("abc3")}}]);
//# sourceMappingURL=chunk-079d4169.ae0efd41.js.map